define(["require","exports","./workerManager","./languageFeatures","./definitions"],function(require,exports,workerManager_1,languageFeatures,definitions_1){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ODPSTokens={defaultToken:"",tokenPostfix:".odpssql",ignoreCase:true,keywords:Object.keys(definitions_1.ODPSTokenEnum).concat(Object.keys(definitions_1.ODPSTokenEnum).map(function(key){return key.toLowerCase()})),builtinFunctions:definitions_1.builtinFunctions,tokenizer:{root:[{include:"@comments"},{include:"@numbers"},{include:"@strings"},{include:"@function"},[/[\w@#$]+/,{cases:{"@builtinFunctions":"builtinFunctions","@keywords":"keywords"}}]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}],[/N"/,{token:"string",next:"@quotedIdentifier"}],[/"/,{token:"string",next:"@quotedIdentifier"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"string"],[/""/,"string"],[/"/,{token:"string",next:"@pop"}]],function:[[/[a-zA-Z][a-zA-Z1-9_-]*\([a-zA-Z\.]*(,\s*[a-zA-Z\.]*)*\)/,"function"]]}};var HiveTokens={defaultToken:"",tokenPostfix:"",ignoreCase:false,keywords:Object.keys(definitions_1.HiveTokenEnum).concat(Object.keys(definitions_1.HiveTokenEnum).map(function(key){return key.toLowerCase()})),builtinFunctions:definitions_1.builtinFunctions,tokenizer:{root:[{include:"@comments"},{include:"@numbers"},{include:"@strings"},{include:"@function"},[/[\w@#$]+/,{cases:{"@builtinFunctions":"builtinFunctions","@keywords":"keywords"}}]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}],[/N"/,{token:"string",next:"@quotedIdentifier"}],[/"/,{token:"string",next:"@quotedIdentifier"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"string"],[/""/,"string"],[/"/,{token:"string",next:"@pop"}]],function:[[/[a-zA-Z][a-zA-Z1-9_-]*\([a-zA-Z\.]*(,\s*[a-zA-Z\.]*)*\)/,"function"]]}};var ShellTokens={defaultToken:"",tokenPostfix:"",ignoreCase:false,keywords:Object.keys(definitions_1.ShellTokenEnum).concat(Object.keys(definitions_1.ShellTokenEnum).map(function(key){return key.toLowerCase()})),customKeywords:Object.keys(definitions_1.LinuxTokenEnum).concat(Object.keys(definitions_1.LinuxTokenEnum).map(function(key){return key.toLowerCase()})),tokenizer:{root:[{include:"@comments"},{include:"@numbers"},{include:"@strings"},{include:"@function"},[/[\w@#$]+/,{cases:{"@keywords":"keywords","@customKeywords":"customKeywords"}}]],comments:[[/#+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}],[/N"/,{token:"string",next:"@quotedIdentifier"}],[/"/,{token:"string",next:"@quotedIdentifier"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"string"],[/""/,"string"],[/"/,{token:"string",next:"@pop"}]],function:[[/[a-zA-Z][a-zA-Z 1-9_-]*\(\)/,"function"]]}};var TokenMap={ODPSSQL:ODPSTokens,HiveSQL:HiveTokens,Shell:ShellTokens};var config={comments:{lineComment:"--",blockComment:["/*","*/"]},autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]};var CompletionAdapter;exports.CompletionAdapter=CompletionAdapter;function setupMode(defaults,options){var client=new workerManager_1.WorkerManager(defaults);var worker=function(first){var more=[];for(var _i=1;_i<arguments.length;_i++){more[_i-1]=arguments[_i]}return client.getLanguageServiceWorker.apply(client,[first].concat(more))};var languageId=defaults.languageId;exports.CompletionAdapter=CompletionAdapter=new languageFeatures.CompletionAdapter(worker,options,languageId);monaco.languages.registerCompletionItemProvider(languageId,CompletionAdapter);monaco.languages.registerHoverProvider(languageId,new languageFeatures.HoverAdapter(worker,options));monaco.languages.registerDocumentFormattingEditProvider(languageId,new languageFeatures.FormatterAdapter(worker));monaco.languages.setMonarchTokensProvider(languageId,TokenMap[languageId]);monaco.languages.setLanguageConfiguration(languageId,config);new languageFeatures.DiagnosticsAdapter(languageId,worker,defaults)}exports.setupMode=setupMode;function recycling(){exports.CompletionAdapter=CompletionAdapter=""}exports.recycling=recycling});